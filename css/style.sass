

// Base -----------


html, body, h1, h2, h3, h4, p, ul, li,
section, article, div, a, figure, blockquote
	margin: 0
	padding: 0
	font-size: 100%
	text-align: left
	font-weight: normal
	-webkit-text-size-adjust: none

b
	font-weight: normal

i
	font-style: normal

@mixin nolist
	padding: 0
	list-style: none

@mixin boxfix
	-webkit-box-sizing: border-box
	-moz-box-sizing: border-box
	box-sizing: border-box

@mixin fixlayer
	position: fixed
	top:    0
	left:   0
	right:  0
	bottom: 0

@mixin title
	line-height: 1.1em
	text-align: left
	font:
		size: 2em

@mixin caption
	font:
		size: 11px
		weight: normal
	text-transform: uppercase
	letter-spacing: 0.3em

@mixin trans($time)
	-webkit-transition: all $time
	-moz-transition: all $time
	-ms-transition: all $time
	transition: all $time

@mixin tf($tform)
	-webkit-transform: $tform
	-moz-transform: $tform
	-ms-transform: $tform
	transform: $tform

.no-trans
	-webkit-transition: none !important
	-moz-transition: none !important
	-ms-transition: none !important
	transition: none !important

// Design -----------

body,
html
	-webkit-overflow-scrolling: touch

hr
	border: none
	width: 100px
	margin: 50px 0
	display: block
	border-bottom: 1px solid rgba(120,120,120,0.5)

body
	color: black
	background: white
	font:
		family: "nta", sans-serif
		size: 20px

// .scroller
// 	display: inline-block
// 	height: 100%

a, a:visited
	color: black
	border:
		bottom: 1px solid black
	@include trans(0.5s)
	text:
		decoration: none
	&:hover
		border:
			bottom: 2px solid black

.btn
	@include trans(0.2s)
	@include caption
	@include boxfix
	-webkit-appearance: none
	line-height: 40px
	font:
		size: 10px
	padding: 0 20px
	border: 1px solid black
	background: transparent
	color: black
	cursor: pointer
	&:hover
		background: black
		color: white

// Nav -----

nav
	right: 0
	top: 0
	position: fixed
	z-index: 2
	padding: 30px 10%
	a
		margin-right: 20px
		padding-bottom: 5px
		color: black

// Item -----

.items
	@include boxfix
	display: inline-block
	margin: 50px 17% 0 10%
	max-width: 100%

.item
	@include boxfix
	-webkit-backface-visibility: hidden
	position: relative
	padding: 2em 0 4em 0
	// border-bottom: 1px dotted black
	&::after
		content: ""
		width: 50px
		display: block
		position: absolute
		bottom: 0
		//border-bottom: 1px solid rgba(0,0,0,0.5)


.project-title,
.item-name
	b
		@include trans(0.5s)
		line-height: 0.9em
		display: inline-block
		white-space: nowrap
		border-bottom: 2px solid transparent
	i
		@include tf(translate3d(-20%, 0, 0))
		@include trans(0.15s)
		display: inline-block
		font-style: normal
		opacity: 0
		font-size: 0.5em

.item-name,
	@include trans(0.3s)
	@include title
	border-width: 0
	position: relative
	display: inline-block
	.item:hover &
		border-width: 0
		b
			border-bottom: 2px solid black
	[data-position = current] &
		i
			@include tf(translate3d(0%, 0, 0))
			opacity: 1


// Index -----


// Project ------

.archive-name
	@include caption
	padding-bottom: 4em

.archive
	@include nolist
	padding-bottom: 100px
	li
		padding-bottom: 0.5em
		a
			width: 100%


// Figure -------

.item figure
	@include tf(translate3d(15%,0,0) scale(0.9))
	@include trans(0.3s)
	position: fixed
	text-align: center
	pointer-events: none
	left: 100px
	top: 100px
	right: 100px
	bottom: 100px
	opacity: 0
	z-index: -1
	img, video
		display: block
		margin: auto
		max-height: 100%
		max-width: 100%
		//@include trans(0.5s)

[data-position=current] figure
	opacity: 1
	//-webkit-filter: blur(0px)
	@include tf(translate3d(15%,0,0))
	//-webkit-transition-delay: 0.2s
	.viewing-item &
		opacity: 0
		@include tf(translate3d(30%,0,0))

[data-position=above] figure
	@include tf(translate3d(15%, 0 ,0) scale(0.9))

[data-position=below] figure
	@include tf(translate3d(15%, 0 ,0) scale(0.9))


.browser
	display: inline-block
	position: relative
	img, video
		position: relative
		display: inline-block
		box-shadow: 0 0 0 1px #2b2b2b
		padding-top: 25px
		background: #2b2b2b
		@include boxfix
	&::after
		text-align: left
		position: absolute
		top: 0px
		left: 0px
		right: 0px
		height: 25px
		padding: 0 0.8em
		z-index: 999
		//--
		//content: "○○○"
		content: "●●●"
		line-height: 25px
		font-size: 15px
		letter-spacing: 10px
		//--
		color: white
	&:hover::after
		color: rgba(255,255,255,0.5)

// Overlay -----------

.project-back
	@include fixlayer
	@include trans(0.3s)
	//background: hsla(0,0,5%,0.9)
	//background: rgba(250, 250, 250, 0.9)
	background: #eee
	pointer-events: none
	opacity: 0
	z-index: 3
	.viewing-item &
		opacity: 1
		pointer-events: auto

.project-title
	@include title
	@include trans(0.4s cubic-bezier(0.680, -0.550, 0.265, 1.550))
	position: fixed
	display: none
	top: 0
	color: black
	left: 0
	z-index: 4
	-webkit-backface-visibility: hidden

.project
	@include fixlayer
	@include boxfix
	z-index: 4
	padding: 300px 10% 0
	white-space: normal
	// text-align: center
	margin: auto
	color: black
	//opacity: 0
	overflow: scroll
	-webkit-overflow-scrolling: touch
	@include trans(0.4s)
	@include tf(translate3d(0, 100%, 0))
	pointer-events: none
	.viewing-item &
		opacity: 1
		pointer-events: auto
		@include tf(translate3d(0, 0, 0) scale(1))
	.viewing-item.loading &
		//opacity: 0
		@include tf(translate3d(0, 100%, 0) scale(1))
	h2, h3, h4, p, ul
		max-width: 500px
		width: 100%
		font-size: 16px
		padding: 0 0 1.5em
		//margin: auto
	h2, h3, h4
		font-weight: bold
	a
		//color: white
		//border-color: white
	.btn
		@include caption
		@include trans(0.1s)
		padding: 5px 10px
	h1
		// display: inline-block
		line-height: 1em
		font-size: 1.2em
		margin: 3em 0
		//border-top: 1px solid black
		padding-top: 3em
		max-width: 500px
		@include caption
		font-weight: bold
	h3
		position: relative
		padding-top: 1em
		padding-bottom: 0.5em
		em
			// @include caption
			font-style: normal
			// float: right
			text-align: left
			// position: absolute
			// top: 3em
			// left: 0
			// width: 0px
			font-weight: normal
			white-space: nowrap
			//margin-left: 0.5em
			display: inline-block
			// @include tf(rotate(90deg))
			&::before
				content: " — "
	h4
		@include caption
	p
		em
			text-transform: uppercase
			letter-spacing: 1px
			font-size: 0.8em
			font-style: normal
	figure
		max-width: 1800px
		margin: auto
		padding-bottom: 1.5em
		img
			display: block
			max-width: 100%
			//margin: auto
	li
		list-style: none
		position: relative
	aside
		h2 
			padding-bottom: 1em
		h3
			@include caption
			font-weight: normal
			padding-bottom: 3em
			padding-top: 2em
			display: inline-block
		li
			padding-bottom: 5px
			display: block
		ul
			padding-bottom: 3em

	blockquote
		p
			font-size: 2em
			line-height: 1.3em
			width: auto
			max-width: 1200px
			text-rendering: optimizeLegibility
		a
			@include trans(0s)
			line-height: 1em
			display: inline-block
			color: black
			border-bottom: 1px solid black
			&:hover
				border-bottom: 3px solid black


.being-viewed
	opacity: 0 !important

.project .row2
	img
		width: 50%
		float: left
		@include boxfix
	&::before, &::after
		content: ""
		display: table
		clear: both

[data-lightbox]
	cursor: -webkit-zoom-in
	cursor: zoom-in

.lightbox-back
	@include fixlayer
	z-index: 8
	background: hsla(0,0,10%,0.5)
	pointer-events: none
	opacity: 0
	@include trans(0.5s)
	.viewing-lightbox &
		opacity: 1
		pointer-events: auto
.lightbox
	z-index: 9
	display: none
	position: fixed
	overflow: scroll
	top:    0
	left:   0
	cursor: -webkit-zoom-out
	cursor: zoom-out
	img
		max-width: 100%
		max-height: 100%
		margin: auto
		display: block

.ex
	@include trans(0.2s)
	cursor: pointer
	position: fixed
	z-index: 7
	top: 50px
	right: 10%
	font-size: 60px
	width: 40px
	text-align: center
	line-height: 40px
	padding: 15px
	border-radius: 50%
	opacity: 0
	color: black
	@include tf(scale(0))
	.viewing-item &
		opacity: 1
		@include tf(scale(1))
	&:hover
		opacity: 0.5



@-webkit-keyframes pulse
	0%
		box-shadow: 0 0 0 0 black
	25%
		box-shadow: 0 0 0 3px black
	50%
		box-shadow: 0 0 0 0 black

@-webkit-keyframes pulsewhite 
	0%
		box-shadow: 0 0 0 0 white
	25%
		box-shadow: 0 0 0 3px white
	50% 
		box-shadow: 0 0 0 0 white

.spinner
	@include trans(0.2s)
	cursor: pointer
	line-height: 0em
	margin-top: 20px
	white-space: nowrap
	i
		@include trans(0.5s)
		-webkit-transform: scale(0)
		display: inline-block
		margin-right: 40px
		border-radius: 50%
		background: black
		width: 10px
		height: 10px
	.viewing-item.loading &
		-webkit-transform: translate3d(0%,0,0)
		i
			-webkit-transform: scale(1)
			box-shadow: 0 0 0 0 black
			-webkit-animation: pulse 0.8s infinite
		i:nth-child(2)
			-webkit-animation-delay: 0.3s
		i:nth-child(3)
			-webkit-animation-delay: 0.6s

// Resume
.resume
	.project-title
		font-size: 1em

	.project
		li > a
			line-height: 1.5em
			-webkit-transition: none
		li
			em 
				-webkit-transition: all 0.3s
				font-size: 11px
				font-style: normal
				text-transform: uppercase
				letter-spacing: 0.2em
				white-space: nowrap

.copy-wrapper
	@include trans(0.3s)
	@include tf(translate3d(-10px,0,0))
	position: absolute
	left: 110%
	bottom: 0
	opacity: 0
	line-height: normal
	font-size: 1rem
	cursor: hand
	.copy
		@include trans(0)
		white-space: nowrap
		position: relative
		display: inline-block
		padding: 0 15px
		border: 1px solid black
		line-height: 28px
		font-weight: bold
		i
			position: absolute
			opacity: 0
			white-space: nowrap
		&::after
			content: ""
			position: absolute
			left: -8px
			top: 9px
			border: 4px solid transparent
			border-right-color: #eee
			z-index: 9
	.flash-wrapper:hover &
		.copy
			background: black
			color: white
			&::after
				border-right-color: black
	&::before
		content: ""
		position: absolute
		left: -30px
		top: 0px
		background: transparent
		width: 50px
		height: 30px
	&::after
		content: ""
		position: absolute
		left: -8px
		top: 10px
		border: 4px solid transparent
		border-right-color: black
	.flash-wrapper &
		&.done
			opacity: 1
			@include tf(translate3d(0,0,0))
			.copy
				@include trans(0.2s)
				color: rgba(0,0,0,0)
				padding-right: 50px
				background: black
				i
					color: white
					opacity: 1
				&::after
					border-right-color: black

a:hover
	.loaded
		opacity: 1
		@include tf(translate3d(0,0,0))
		&:hover
			opacity: 0.8

.at
	display: inline-block
	position: relative
	i
		@include trans(0.1s)
		font-style: normal
		display: inline-block
	b
		@include trans(0.2s)
		@include tf(scale(0.6))
		opacity: 0
		position: absolute
	&:hover
		i
			opacity: 0
		b
			opacity: 1
			@include tf(scale(1))

// @ Media -------------

@media (-webkit-min-device-pixel-ratio: 1.5)
	a.item-name,
	.project-title
		text-shadow: none

@media (min-width: 1200px)
	aside
		position: absolute
		margin-left: 550px + 120px
	.project blockquote p
		width: 80%

@media (max-width: 800px)
	.item
		padding: 100px 0 110px
	.project blockquote p
		font-size: 1.7em
	.ex
		font-size: 40px
		right: 5%
		top: 5%
	.project figure
		margin: 0 -10vw

@media (max-width: 600px)
	a.item-name,
	.project-title
		font-size: 1.6em
	.items
		padding-top: 80px
	.item
		padding: 40px 0 50px
	.item > figure
		position: static
		opacity: 1
		@include tf(none)
		-webkit-filter: none
		margin-top: 1em
	.items:hover .item > figure
		@include tf(none)
		opacity: 1
	.project blockquote p
		font-size: 1em

	br
		display: none

// Extras -------------


// body
// 	&::-webkit-scrollbar
// 		height: 10px
// 		background: white
// 	&::-webkit-scrollbar-thumb
// 		background: rgba(0,0,0,1)
// 		&:hover
// 			background: rgba(0,0,0,0.6)